<!DOCTYPE html>
<html>
<head>
    <title>Current City</title>
    <script>
        function showPosition(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            document.getElementById("location").innerHTML = "Latitude: " + latitude + "<br>Longitude: " + longitude;

            var url = "https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=" + latitude + "&lon=" + longitude;

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    var city = data.address.city;
                    if (city) {
                        document.getElementById('city').innerHTML = 'City: ' + city;
                    } else {
                        document.getElementById('city').innerHTML = 'City not found';
                    }
                })
                .catch(error => {
                    document.getElementById('city').innerHTML = 'Error: ' + error.message;
                });
        }

        function showError(error) {
            document.getElementById("location").innerHTML = "Error: " + error.message;
        }

        function updateLocation() {
            navigator.geolocation.getCurrentPosition(showPosition, showError);
        }

        setInterval(updateLocation, 2300); // update location every 2.3 seconds

        function handleMotion(event) {
            // Handle device motion events here
        }

        window.addEventListener('devicemotion', handleMotion, true);
    </script>
</head>
<body>
    <h1>Current City</h1>
    <p id="city">Locating...</p>
    <p id="location"></p>
</body>
</html>
