<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
      }

      h1 {
        margin-bottom: 20px;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
      }

      .row {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
      }

      label {
        margin-right: 10px;
      }

      .button-group {
        display: flex;
        margin-top: 10px;
      }

      button {
        margin-right: 10px;
      }

      .counter {
        margin-right: 20px;
      }

      .total {
        margin-top: 20px;
        font-weight: bold;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }

      th,
      td {
        border: 1px solid black;
        padding: 8px;
        text-align: center;
      }

      th {
        background-color: lightgray;
      }

      #data-table-body {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>CEVT ðŸš§TSIðŸ›‘ âš¡RAPIDðŸŒ  â›”TESTðŸš¦</h1>
      <div class="row">
        <label>Location:</label>
        <span id="location">Loading...</span>
      </div>
      <div class="row">
        <div class="counter">
          OK Count: <span id="okCounter">0</span>
        </div>
        <div class="counter">
          NOK Count: <span id="nokCounter">0</span>
        </div>
      </div>
      <div class="button-group">
        <button class="green" id="okButton">OK</button>
        <button class="red" id="nokButton">NOK</button>
      </div>
      <div class="total">
        Total: <span id="total">0</span>
      </div>
      <table>
        <thead>
          <tr>
            <th>Time</th>
            <th>Location (Latitude, Longitude)</th>
            <th>Type of Road</th>
            <th>Weather</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="data-table-body"></tbody>
      </table>
    </div>
    <script>
      let okCount = 0;
      let nokCount = 0;

      const okCounter = document.getElementById('okCounter');
      const nokCounter = document.getElementById('nokCounter');
      const totalCounter = document.getElementById('total');
      const locationElement = document.getElementById('location');
      const dataTableBody = document.getElementById('data-table-body');

      const okButton = document.getElementById('okButton');
      const nokButton = document.getElementById('nokButton');

      function updateTotal() {
        const total = okCount + nokCount;
        totalCounter.textContent = total;
      }

      function updateCounters() {
        okCounter.textContent = okCount;
        nokCounter.textContent = nokCount;
        updateTotal();
      }

      function updateLocation(latitude, longitude) {
        locationElement.textContent = `${latitude}, ${longitude}`;
      }

      function appendDataToTable() {
        const time = new Date().toLocaleTimeString();
        const roadType = 'Type 1'; // Example road type
        const weather = 'Sunny'; // Example weather
        const action = 'OK/NOK'; // Example action

        const newRow = document.createElement('tr');

        const timeCell = document.createElement('td');
        timeCell.textContent = time;
        newRow.appendChild(timeCell);

        const locationCell = document.createElement('td');
        locationCell.textContent = locationElement.textContent;
        newRow.appendChild(locationCell);

        const roadTypeCell = document.createElement('td');
        roadTypeCell.textContent = roadType;
        newRow.appendChild(roadTypeCell);

        const weatherCell = document.createElement('td');
        weatherCell.textContent = weather;
        newRow.appendChild(weatherCell);

        const actionCell = document.createElement('td');
        actionCell.textContent = action;
        newRow.appendChild(actionCell);

        dataTableBody.appendChild(newRow);
      }

      function handleOkClick() {
        okCount++;
        updateCounters();
        appendDataToTable();
      }

      function handleNokClick() {
        nokCount++;
        updateCounters();
        appendDataToTable();
      }

      okButton.addEventListener('click', handleOkClick);
      nokButton.addEventListener('click', handleNokClick);

      // Simulating GPS coordinates
      function simulateGPS() {
        const latitude = Math.random() * 90;
        const longitude = Math.random() * 180;
        updateLocation(latitude.toFixed(6), longitude.toFixed(6));
        setTimeout(simulateGPS, 1000);
      }

      simulateGPS();
    </script>
  </body>
</html>
