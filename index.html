
<?php
// Process form data if submitted
if (isset($_POST['submit'])) {
// GitHub API endpoint for creating a new file
$url = 'https://api.github.com/repos/JaewooJoung/markdown/form-data.log';

// GitHub personal access token with the necessary permissions
$token = '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';

// Form data
$data = array(
    'date' => date('Y-m-d H:i:s'),
    'count' => $_POST['count'],
    'number' => $_POST['number'],
    'status' => $_POST['status'],
);

// Encode the form data as JSON
$json = json_encode($data);

// Create a new file in GitHub with the form data
$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'PUT');
curl_setopt($ch, CURLOPT_POSTFIELDS, $json);
curl_setopt($ch, CURLOPT_HTTPHEADER, array(
    'Authorization: token ' . $token,
    'Content-Type: application/json',
    'User-Agent: My-GitHub-App'
));
$result = curl_exec($ch);
curl_close($ch);

// Display a message to the user
if ($result !== false) {
    echo 'Form data saved to GitHub successfully.';
} else {
  // Display form
?>
<!DOCTYPE html>
<html>
  <head>
    <title>My Form</title>
  </head>
  <body>
    <form method="post">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
      .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
      }
      .btn {
        display: block;
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        font-size: 24px;
        text-align: center;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      textarea {
        display: block;
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        font-size: 24px;
        border: 1px solid #ccc;
        border-radius: 5px;
        resize: none;
      }
      label {
        display: block;
        margin-bottom: 10px;
        font-size: 24px;
      }
      input[type="radio"] {
        display: inline-block;
        margin-right: 10px;
      }
      input[type="submit"] {
        display: block;
        width: 100%;
        padding: 10px;
        margin-top: 20px;
        font-size: 24px;
        text-align: center;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
    </style>
      <input type="submit" name="submit" value="Submit">
    </form>
  </body>
</html>
<?php
}
?>
