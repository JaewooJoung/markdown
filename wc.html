<!DOCTYPE html>
<html>
    <head>
        <title>World Time</title>
        <style>
            table {
                width: 100%;
                border-collapse: collapse;
            }
            th, td {
                border: 1px solid grey;
                text-align: center;
                padding: 5px;
            }
        </style>
    </head>
    <body>
        <table>
            <thead>
                <tr>
                    <th id="week">Week</th>
                    <th>Sverige</th>
                    <th>España</th>
                    <th>México</th>
                    <th>Россия</th>
                    <th>대한민국</th>
                    <th>북조선</th>
                    <th>中國</th>
                    <th>Türkiye</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Time</td>
                    <td id="Sweden"></td>
                    <td id="Spain"></td>
                    <td id="Mexico"></td>
                    <td id="Russia"></td>
                    <td id="SouthKorea"></td>
                    <td id="NorthKorea"></td>
                    <td id="China"></td>
                    <td id="Turkey"></td>
                </tr>
            </tbody>
        </table>

        <script>
            function updateClock(location, timeZone) {
                let now = new Date();
                let options = { 
                    timeZone: timeZone,
                    hour: 'numeric', 
                    minute: 'numeric', 
                    second: 'numeric', 
                    weekday: 'long' 
                };
                let formatted = new Intl.DateTimeFormat('default', options).format(now);
                document.getElementById(location).innerText = formatted;
            }

            function getWeekNumber(d) {
                d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
                d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
                var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
                var weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
                return weekNo;
            }

            setInterval(() => {
                var now = new Date();
                document.getElementById('week').innerText = "Week " + getWeekNumber(now);

                updateClock('Sweden', 'Europe/Stockholm');
                updateClock('Spain', 'Europe/Madrid');
                updateClock('Mexico', 'America/Mexico_City');
                updateClock('Russia', 'Europe/Moscow');
                updateClock('SouthKorea', 'Asia/Seoul');
                updateClock('NorthKorea', 'Asia/Pyongyang');
                updateClock('China', 'Asia/Shanghai');
                updateClock('Turkey', 'Europe/Istanbul');
            }, 1000);
        </script>
    </body>
</html>
